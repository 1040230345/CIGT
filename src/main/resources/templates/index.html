<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>首页</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
	<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js">
	</script>
	<link rel="stylesheet" href="css/index.css" />
</head>
<body>
<div id="app">
	<!-- 顶部 -->
	<div class="header">
		<el-menu  class="el-menu-demo" mode="horizontal">
			<el-menu-item index="1" style="font-size:25px;float:left;">GIGT</el-menu-item>


			<el-submenu  index="2" style="float: right;">
				<template slot="title">我的中心</template>
				<el-menu-item index="2-2" class="el-icon-shopping-bag-2"> 我的商品</el-menu-item><br>
				<el-menu-item index="2-2" class="el-icon-document-copy"> 我的订单</el-menu-item><br>
				<el-menu-item index="2-3" class="el-icon-message"> 我的评价</el-menu-item><br>
				<el-menu-item index="2-4" class="el-icon-user
"> 我的信息</el-menu-item><br>
				<el-menu-item index="2-5" class="el-icon-full-screen
				" @click="out()"> 退出登录</el-menu-item>
			</el-submenu>

			<el-menu-item  index="4" style="float: right;" >
				<el-button icon="el-icon-shopping-cart-2"  style="border:0;width:50px;height:40px;padding:0px;"></el-button>
			</el-menu-item>

			<el-menu-item  index="3" style="float: right;" >
				<el-input v-model="input" placeholder="物品名称" style="width:150px;"></el-input>
				<el-button icon="el-icon-search" @click="FindGoodsInfo()"
						   style="border:0;width:50px;height:40px;padding:0px;"></el-button>
			</el-menu-item>



			<el-submenu style="float:right;">
				<template slot="title" index="5">分类</template>
				<span v-for="(item,index) in typelist" :key="index">
							<el-menu-item :index="item.id"
										  @click="GetGoodsCategoryInfo(item)"
										  class="el-icon-shopping-cart-1">
								{{item.category}}
							</el-menu-item><br>
						</span>
			</el-submenu>

		</el-menu>

	</div>


	<!-- 轮播图 -->
	<div class="block">

		<el-carousel height="550px">
			<el-carousel-item v-for="item in imglist" :key="item">
				<img :src="item" alt="" style="width:100%;height:100%;">
			</el-carousel-item>
		</el-carousel>
	</div>
	<!-- 字体	 -->
	<div style="margin-top:100px;" align="center">
		<div style="font-size:35px;font-weight:bold;width:350px;line-height:40px;border-bottom:3px solid grey">GIGT PRODUCT</div>
		<div style="font-size:20px;width:600px;margin-top:10px;">广科闲置物交易平台注重将物品利用达到最高层次，便宜优惠是基本本平台将带给您最好的体验</div>
	</div>
	<!-- 字体	 -->
	<div style="margin-top:100px;" align="center">
		<div style="font-size:25px;font-weight:bold;width:350px;line-height:40px;">
			{{title}}
		</div>
	</div>

	<div class="container lb" style="margin-top:50px;">
		<!-- 分类 -->

		<div class="row">

			<div class="col-xs-3" v-for="(item,index) in goodlist" :key="index">
				<div class="thumbnail gooditem" @click="togood">
					<div  style="height:200px;display: flex;justify-content: center;align-items: center;">
						<img :src="item.images" alt="..." style="max-height:100%;max-width: 100%;">
					</div>
					<div class="caption" style="text-align: center;">
						<span style="font-size:20px;">{{item.name}}</span><br />
						<span class="depict"
						style="width:90%;
						margin-left:5%;
						height:40px;
						overflow:hidden;
						text-overflow:ellipsis;
						display: -webkit-box;
						-webkit-line-clamp:2;
						-webkit-box-orient: vertical;">
						{{item.depict}}</span>
						<p style="color:darkred;font-size:15px;">￥{{item.price}}<p>
					</div>
				</div>
			</div>

		</div>
		<div align="center">
			<a href="javascript:;" @click="loadmore()">加载更多...</a>
		</div>
	</div>

	<!-- footer -->
	<div class="footer" align="center">

		<a href="javascript:;" style="color:grey;margin-right:10px;text-decoration:underline">关于我们</a>
		<a href="javascript:;" style="color:grey;margin-right:30px;text-decoration:underline">联系我们</a>
		<a href="javascript:;" style="color:grey;text-decoration:underline">@GIGT平台所有</a>
	</div>
</div>
</body>
<!-- 先引入 Vue -->
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<!-- 引入组件库 -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script type="text/javascript" src="js/api.js"></script>
<script type="text/javascript">
	new Vue({
		el: '#app',
		data: function() {
			return {
				typelist:null,
				title:'商品',
				goodlist:null,
				imglist:[
					'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575379740280&di=67e5ccd2e82f6bbc4f59db060fb6623e&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201610%2F14%2F20161014193604_WRMf5.png',
					'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575379878779&di=5a699efa671569d1c0cbb01ac343b60b&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201610%2F18%2F20161018000344_2JtkF.jpeg'],

				radio: 0,
				input:''
			}
		},
		created() {
			var that=this
			//获取商品分类
			MyAjax('/api/getCategoryInfo','POST',{})
					.then(res=>{
						that.typelist=res
						that.GetGoodsCategoryInfo(res[0])
					})
		},
		methods:{
			//查询商品
			FindGoodsInfo(){
				var that=this
				MyAjax('/api/findGoodsInfo','POST',{
					goodsName:that.input
				}).then(res=>{
					if(res.findGoods!='false'){
						that.title='搜索结果'
						that.goodlist=res.findGoods
					}else{
						that.$message({message: '网络开小差',type: 'warning'});
					}
				})
			},
			//分类查询
			GetGoodsCategoryInfo(item){
				var that=this
				MyAjax('/api/getGoodsCategoryInfo/'+item.id,'POST',{}).then(res=>{
					if(res.getCategory!='false'){
						that.goodlist=res.getCategory
						that.title=item.category
					}else{
						that.$message({message: '网络开小差',type: 'warning'});
					}
				})
			},
			loadmore(){
				for(let i=0;i<8;i++){
					this.goodlist.push({})
				}
			},
			out(){
				window.location.href="login.html"
			},
			togood(){
				window.location.href="good.html"
			}
		}
	})
</script>
</html>
